(()=>{var e={791:()=>{const e=document.querySelectorAll(".movies-list .cards-movies");let t=0,s=!1,n=0;function a(e){e.preventDefault(),s=!0,t=e.clientX,n=this.scrollLeft}function i(e){if(e.preventDefault(),!s)return;const a=e.clientX-t;this.scrollLeft=n-a}function l(){s=!1}e.forEach((function(e){e.addEventListener("mousedown",a),e.addEventListener("mousemove",i),e.addEventListener("mouseup",l),e.addEventListener("mouseleave",l)}))}},t={};function s(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(791);const e=document.querySelectorAll(".movies-list .cards-movies"),t=document.querySelector(".iframe #myFrame"),n=document.querySelector("nav"),a=n.querySelector(".menu"),i=a.previousElementSibling.lastElementChild,l=document.querySelectorAll(".movies-list a"),o=document.querySelector(".loading");async function c(){var t;document.body.style.overflowY="hidden",o.style.display="flex",t=this.className,e.forEach((e=>{e.parentElement.classList.contains(`${t}`)||(e.parentElement.style.display="none"),e.parentElement.classList.contains(`${t}`)&&(e.previousElementSibling.classList.toggle("change-text"),e.previousElementSibling.classList.contains("change-text")&&(e.previousElementSibling.querySelector("a").textContent="Back"))})),this.offsetParent.nextElementSibling.style.cssText="\n    display:grid;\n    grid-template-columns: repeat(auto-fit, minmax(129px, 1fr));\n    gap: 1rem;\n  ",this.parentElement.parentElement.classList.contains("change-text")?"box-office"===this.className?(m(await(await d("category","search",this.className,21)).json(),`movies-list.${this.className}`),r(),o.style.display="none",document.body.style.overflowY="scroll"):"movie-update"===this.className?(m(await(await d("latest",null,null,21)).json(),`movies-list.${this.className}`),r(),o.style.display="none",document.body.style.overflowY="scroll"):"action-movies"===this.className&&(m(await(await d("category","search","action",21)).json(),`movies-list.${this.className}`),r(),o.style.display="none",document.body.style.overflowY="scroll"):window.location.href=`${window.location.origin}/nmov`}function r(){e.forEach((e=>{e.querySelectorAll(".card").forEach((e=>{e.style.cssText="\n      width: auto;\n      margin: 0\n    ",e.querySelectorAll(".card-img").forEach((e=>{e.style.cssText="\n        width: 100%;\n      "}))}))}))}async function d(e,t,s,n){const a="https://api-filmapik.herokuapp.com";let i=`${a}/${e}?${t}=${s}&maxResult=${n}&video=gdrive`;return null==e||null==t?i=`${a}/${e}?&maxResult=${n}&video=gdrive`:null==n&&(i=`${a}/${e}?${t}=${s}&video=gdrive`),await fetch(i)}async function u(e,t,s,n,a){m(await(await d(e,t,s,a)).json(),n)}function m(e,t){const s=e.result;let n="";s.forEach((e=>{n+=function(e){return`<div class="card" data-id="${e.movieId}">\n            <div class="card-img">\n                <img loading="lazy" src="${e.thumbnailPotrait}">\n            </div>\n            <div class="card-title"><p>${e.title}</p></div>\n            <div class="links">\n              <button class="trailer"><a data-href="${e.detail.trailer}">Trailer</a></button>\n              <button class="watch"><a data-href="${e.video}">Watch</a></button>\n            </div>\n            <div class="desc">${e.detail.description}</div>\n        </div>`}(e)})),document.querySelector(`.${t} .cards-movies`).innerHTML=n}document.querySelector(".search-btn input").addEventListener("keydown",(function(t){"Enter"===t.key&&(!async function(e){o.style.display="flex",m(await(await d("search","q",`${e}`,21)).json(),"movies-list.result-search"),o.style.display="none"}(this.value),e.forEach((e=>{e.parentElement.classList.contains("result-search")||(e.parentElement.style.display="none"),e.previousElementSibling.style.display="flex"})))})),l.forEach((e=>{e.addEventListener("click",c)})),e.forEach(((t,s)=>{const n=document.querySelector(".loading"),a=setInterval((()=>{t.hasChildNodes()&&(s===e.length-2&&(n.style.display="none",document.body.style.overflowY="scroll"),clearInterval(a))}))})),i.addEventListener("click",(function(){const e=this.previousElementSibling;e.classList.toggle("show-input"),n.classList.toggle("add-padding"),e.addEventListener("focusout",(()=>{e.classList.remove("show-input"),e.value="",n.classList.remove("add-padding")}))})),a.addEventListener("click",(function(){const e=this.previousElementSibling.previousElementSibling;e.classList.toggle("show-ul"),e.classList.contains("show-ul")?document.body.style.overflowY="hidden":document.body.style.overflowY="scroll"})),document.addEventListener("click",(e=>{e.path.some((function(e){if("card"===e.className){const t=e.querySelector(".links");e.classList.add("default-cursor"),t.classList.add("show"),e.addEventListener("mouseleave",(()=>{e.classList.remove("default-cursor"),t.classList.remove("show")}))}}))})),document.addEventListener("click",(s=>{const n=document.querySelector(".iframe .detail .text-desc");s.path.some((s=>{if("watch"===s.className||"trailer"===s.className){const a=s.firstChild.dataset.href,i=s.parentElement.nextElementSibling.textContent;n.textContent=i,function(s){e.forEach((e=>{e.parentElement.style.display="none",e.style.overflowY="hidden"})),t.parentElement.classList.add("showIframe"),t.src=s}(a)}})),"back"===s.target.className&&(window.location.href=`${window.location.origin}/nmov`)})),u("category","search","box-office","movies-list.box-office",8),u("latest",null,null,"movies-list.movie-update",8),u("category","search","action","movies-list.action-movies",8)})()})();