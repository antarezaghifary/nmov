(()=>{var e={791:()=>{const e=document.querySelectorAll(".movies-list .cards-movies");let t=0,s=!1,n=0;function o(e){e.preventDefault(),s=!0,t=e.clientX,n=this.scrollLeft}function a(e){if(e.preventDefault(),!s)return;const o=e.clientX-t;this.scrollLeft=n-o}function l(){s=!1}e.forEach((function(e){e.addEventListener("mousedown",o),e.addEventListener("mousemove",a),e.addEventListener("mouseup",l),e.addEventListener("mouseleave",l)}))}},t={};function s(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(791);const e=document.querySelectorAll(".movies-list .cards-movies"),t=document.querySelector(".iframe #myFrame"),n=document.querySelector("nav"),o=n.querySelector(".menu"),a=o.previousElementSibling.lastElementChild,l=document.querySelectorAll(".movies-list a"),i=document.querySelector(".loading");async function c(){var t;document.body.style.overflowY="hidden",i.style.display="flex",t=this.className,e.forEach((e=>{e.parentElement.classList.contains(`${t}`)||(e.parentElement.style.display="none"),e.parentElement.classList.contains(`${t}`)&&(e.previousElementSibling.classList.toggle("change-text"),e.previousElementSibling.classList.contains("change-text")&&(e.previousElementSibling.querySelector("a").textContent="Back"))})),this.offsetParent.nextElementSibling.style.cssText="\n    display:grid;\n    grid-template-columns: repeat(auto-fit, minmax(129px, 1fr));\n    gap: 1rem;\n  ",this.parentElement.parentElement.classList.contains("change-text")?"box-office"===this.className?(m(await(await d("category","search",this.className,21)).json(),`movies-list.${this.className}`),r(),i.style.display="none",document.body.style.overflowY="scroll"):"movie-update"===this.className?(m(await(await d("latest",null,null,21)).json(),`movies-list.${this.className}`),r(),i.style.display="none",document.body.style.overflowY="scroll"):"action-movies"===this.className&&(m(await(await d("category","search","action",21)).json(),`movies-list.${this.className}`),r(),i.style.display="none",document.body.style.overflowY="scroll"):window.location.href=`${window.location.origin}/nmov`}function r(){e.forEach((e=>{e.querySelectorAll(".card").forEach((e=>{e.style.cssText="\n      width: auto;\n      margin: 0\n    ",e.querySelectorAll(".card-img").forEach((e=>{e.style.cssText="\n        width: 100%;\n      "}))}))}))}async function d(e,t,s,n){const o="https://api-filmapik.herokuapp.com";let a=`${o}/${e}?${t}=${s}&maxResult=${n}`;return null==e||null==t?a=`${o}/${e}?&maxResult=${n}`:null==n&&(a=`${o}/${e}?${t}=${s}`),await fetch(a)}async function u(e,t,s,n,o){m(await(await d(e,t,s,o)).json(),n)}function m(e,t){const s=e.result;let n="";s.forEach((e=>{n+=function(e){return`<div class="card" data-id="${e.movieId}">\n            <div class="card-img">\n                <img loading="lazy" src="${e.thumbnailPotrait}">\n            </div>\n            <div class="card-title"><p>${e.title}</p></div>\n            <div class="links">\n              <button class="trailer"><a data-href="${e.detail.trailer}">Trailer</a></button>\n              <button class="watch"><a data-href="${e.video}">Watch</a></button>\n            </div>\n            <div class="desc">${e.detail.description}</div>\n        </div>`}(e)})),document.querySelector(`.${t} .cards-movies`).innerHTML=n}l.forEach((e=>{e.addEventListener("click",c)})),e.forEach(((t,s)=>{const n=document.querySelector(".loading"),o=setInterval((()=>{t.hasChildNodes()&&(s===e.length-1&&(n.style.display="none",document.body.style.overflowY="scroll"),clearInterval(o))}))})),a.addEventListener("click",(function(){const e=this.previousElementSibling;e.classList.toggle("show-input"),n.classList.toggle("add-padding"),e.addEventListener("focusout",(()=>{e.classList.remove("show-input"),n.classList.remove("add-padding")}))})),o.addEventListener("click",(function(){const e=this.previousElementSibling.previousElementSibling;e.classList.toggle("show-ul"),e.classList.contains("show-ul")?document.body.style.overflowY="hidden":document.body.style.overflowY="scroll"})),document.addEventListener("click",(e=>{e.path.some((function(e){if("card"===e.className){const t=e.querySelector(".links");e.classList.add("default-cursor"),t.classList.add("show"),e.addEventListener("mouseleave",(()=>{e.classList.remove("default-cursor"),t.classList.remove("show")}))}}))})),document.addEventListener("click",(s=>{const n=document.querySelector(".iframe .detail .text-desc");s.path.some((s=>{if("watch"===s.className||"trailer"===s.className){const o=s.firstChild.dataset.href,a=s.parentElement.nextElementSibling.textContent;n.textContent=a,function(s){e.forEach((e=>{e.parentElement.style.display="none",e.style.overflowY="hidden"})),t.parentElement.classList.add("showIframe"),t.src=s}(o)}})),"back"===s.target.className&&(window.location.href=`${window.location.origin}/nmov`)})),u("category","search","box-office","movies-list.box-office",8),u("latest",null,null,"movies-list.movie-update",8),u("category","search","action","movies-list.action-movies",8)})()})();