(()=>{var e={791:()=>{const e=document.querySelectorAll(".movies-list .cards-movies");let t=0,s=!1,n=0;function a(e){e.preventDefault(),s=!0,t=e.clientX,n=this.scrollLeft}function l(e){if(e.preventDefault(),!s)return;const a=e.clientX-t;this.scrollLeft=n-a}function o(){s=!1}e.forEach((function(e){e.addEventListener("mousedown",a),e.addEventListener("mousemove",l),e.addEventListener("mouseup",o),e.addEventListener("mouseleave",o)}))}},t={};function s(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(791);const e=document.querySelectorAll(".movies-list .cards-movies"),t=document.querySelector(".iframe #myFrame"),n=document.querySelector("nav"),a=n.querySelector(".menu"),l=a.previousElementSibling.lastElementChild,o=document.querySelectorAll(".movies-list a"),i=document.querySelector(".loading");async function r(t){var s;t.preventDefault(),window.history.pushState("more","",`?more=${t.target.className}`),document.body.style.overflowY="hidden",i.style.display="flex",s=this.className,e.forEach((e=>{e.parentElement.classList.contains(`${s}`)||(e.parentElement.style.display="none"),e.parentElement.classList.contains("result-search")&&(e.parentElement.style.display="flex"),e.parentElement.classList.contains(`${s}`)&&(e.previousElementSibling.classList.toggle("change-text"),e.previousElementSibling.classList.contains("change-text")&&(e.previousElementSibling.querySelector("a").textContent="Back to Homepage"))})),this.offsetParent.nextElementSibling.style.cssText="\n    display:grid;\n    grid-template-columns: repeat(auto-fit, minmax(129px, 1fr));\n    gap: 1rem;\n  ",this.parentElement.parentElement.classList.contains("change-text")?"box-office"===this.className?(u(await(await d("category","search",this.className,21)).json(),`movies-list.${this.className}`),c(),i.style.display="none",document.body.style.overflowY="scroll"):"movie-update"===this.className?(u(await(await d("latest",null,null,21)).json(),`movies-list.${this.className}`),c(),i.style.display="none",document.body.style.overflowY="scroll"):"action-movies"===this.className&&(u(await(await d("category","search","action",21)).json(),`movies-list.${this.className}`),c(),i.style.display="none",document.body.style.overflowY="scroll"):window.location.href=`${window.location.origin}/nmov`}function c(){e.forEach((e=>{e.querySelectorAll(".card").forEach((e=>{e.style.cssText="\n      width: auto;\n      margin: 0\n    ",e.querySelectorAll(".card-img").forEach((e=>{e.style.cssText="\n        width: 100%;\n      "}))}))}))}async function d(e,t,s,n,a){try{const l="https://api-filmapik.herokuapp.com";let o=`${l}/${e}?${t}=${s}&maxResult=${n}&video=${a}`;return null==e||null==t?o=`${l}/${e}?&maxResult=${n}&video=${a}`:null==n&&(o=`${l}/${e}?${t}=${s}&video=${a}`),await fetch(o)}catch(e){console.log(e)}}async function m(e,t,s,n,a,l){try{u(await(await d(e,t,s,a,l)).json(),n)}catch(e){console.log(e)}}function u(e,t){const s=e.result;let n="";s.forEach((e=>{n+=function(e){return`<div class="card" data-id="${e.movieId}">\n            <div class="card-img">\n                <img loading="lazy" src="${e.thumbnailPotrait}">\n            </div>\n            <div class="card-title"><p>${e.title}</p></div>\n            <div class="links">\n              <button class="trailer"><a data-href="${e.detail.trailer}">Trailer</a></button>\n              <button class="watch"><a data-href="${e.video}">Watch</a></button>\n            </div>\n            <div class="desc">${e.detail.description}</div>\n        </div>`}(e)})),document.querySelector(`.${t} .cards-movies`).innerHTML=n}document.querySelector(".search-btn input").addEventListener("keydown",(function(t){if("Enter"===t.key){const t=this.value;window.history.pushState("search","",`?search=${t}`),async function(e){i.style.display="flex",u(await(await d("search","q",`${e}`,21)).json(),"movies-list.result-search"),i.style.display="none"}(t),e.forEach((e=>{e.parentElement.classList.contains("result-search")||(e.parentElement.style.display="none"),e.previousElementSibling.style.display="flex"}))}})),o.forEach((e=>{e.addEventListener("click",r)})),e.forEach(((t,s)=>{const n=document.querySelector(".loading"),a=setInterval((()=>{t.hasChildNodes()&&(s===e.length-2&&(n.style.display="none",document.body.style.overflowY="scroll"),clearInterval(a))}))})),l.addEventListener("click",(function(){const e=this.previousElementSibling;e.classList.toggle("show-input"),n.classList.toggle("add-padding"),e.addEventListener("focusout",(()=>{e.classList.remove("show-input"),e.value="",n.classList.remove("add-padding")}))})),a.addEventListener("click",(function(){const e=this.previousElementSibling.previousElementSibling;e.classList.toggle("show-ul"),e.classList.contains("show-ul")?document.body.style.overflowY="hidden":document.body.style.overflowY="scroll"})),document.addEventListener("click",(e=>{e.path.some((function(e){if("card"===e.className){const t=e.querySelector(".links");e.classList.add("default-cursor"),t.classList.add("show"),e.addEventListener("mouseleave",(()=>{e.classList.remove("default-cursor"),t.classList.remove("show")}))}}))})),document.addEventListener("click",(s=>{const n=document.querySelector(".iframe .detail .text-desc");if(s.path.some((s=>{if("watch"===s.className||"trailer"===s.className){const a=s.parentElement.parentElement.parentElement.parentElement.className,l=s.firstChild.dataset.href,o=s.parentElement.nextElementSibling.textContent;n.textContent=o,localStorage.setItem("parent",`${a}`.split(" ").slice(1)),t.parentElement.style.display="block",function(s){e.forEach((e=>{e.parentElement.style.display="none",e.style.overflowY="hidden"})),t.parentElement.classList.add("showIframe"),t.src=s}(l)}})),"back"===s.target.className)if(t.src="",t.parentElement.style.display="none","home"===window.history.state)e.forEach((e=>{e.parentElement.style.display="flex"}));else if("more"===window.history.state){const t=localStorage.getItem("parent");e.forEach((e=>{if(!e.parentElement.classList.contains(`${t}`))return e.parentElement.style.display="none",e.parentElement.classList.contains("result-search")?void(e.parentElement.style.display="flex"):void 0;e.parentElement.style.display="flex"}))}else"search"===window.history.state&&e.forEach((e=>{e.parentElement.classList.contains("result-search")?e.parentElement.style.display="flex":e.parentElement.style.display="none"}))})),window.history.pushState("home","","?home"),m("category","search","box-office","movies-list.box-office",8,"iframe"),m("latest",null,null,"movies-list.movie-update",8,"iframe"),m("category","search","action","movies-list.action-movies",8,"iframe")})()})();